<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="" xml:lang="">
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>22ccde5200dd4f7db7f89aa6fdd6c840</title>
  <style>
    html {
      line-height: 1.5;
      font-family: Georgia, serif;
      font-size: 20px;
      color: #1a1a1a;
      background-color: #fdfdfd;
    }
    body {
      margin: 0 auto;
      max-width: 36em;
      padding-left: 50px;
      padding-right: 50px;
      padding-top: 50px;
      padding-bottom: 50px;
      hyphens: auto;
      overflow-wrap: break-word;
      text-rendering: optimizeLegibility;
      font-kerning: normal;
    }
    @media (max-width: 600px) {
      body {
        font-size: 0.9em;
        padding: 1em;
      }
      h1 {
        font-size: 1.8em;
      }
    }
    @media print {
      body {
        background-color: transparent;
        color: black;
        font-size: 12pt;
      }
      p, h2, h3 {
        orphans: 3;
        widows: 3;
      }
      h2, h3, h4 {
        page-break-after: avoid;
      }
    }
    p {
      margin: 1em 0;
    }
    a {
      color: #1a1a1a;
    }
    a:visited {
      color: #1a1a1a;
    }
    img {
      max-width: 100%;
    }
    h1, h2, h3, h4, h5, h6 {
      margin-top: 1.4em;
    }
    h5, h6 {
      font-size: 1em;
      font-style: italic;
    }
    h6 {
      font-weight: normal;
    }
    ol, ul {
      padding-left: 1.7em;
      margin-top: 1em;
    }
    li > ol, li > ul {
      margin-top: 0;
    }
    blockquote {
      margin: 1em 0 1em 1.7em;
      padding-left: 1em;
      border-left: 2px solid #e6e6e6;
      color: #606060;
    }
    code {
      font-family: Menlo, Monaco, 'Lucida Console', Consolas, monospace;
      font-size: 85%;
      margin: 0;
    }
    pre {
      margin: 1em 0;
      overflow: auto;
    }
    pre code {
      padding: 0;
      overflow: visible;
      overflow-wrap: normal;
    }
    .sourceCode {
     background-color: transparent;
     overflow: visible;
    }
    hr {
      background-color: #1a1a1a;
      border: none;
      height: 1px;
      margin: 1em 0;
    }
    table {
      margin: 1em 0;
      border-collapse: collapse;
      width: 100%;
      overflow-x: auto;
      display: block;
      font-variant-numeric: lining-nums tabular-nums;
    }
    table caption {
      margin-bottom: 0.75em;
    }
    tbody {
      margin-top: 0.5em;
      border-top: 1px solid #1a1a1a;
      border-bottom: 1px solid #1a1a1a;
    }
    th {
      border-top: 1px solid #1a1a1a;
      padding: 0.25em 0.5em 0.25em 0.5em;
    }
    td {
      padding: 0.125em 0.5em 0.25em 0.5em;
    }
    header {
      margin-bottom: 4em;
      text-align: center;
    }
    #TOC li {
      list-style: none;
    }
    #TOC ul {
      padding-left: 1.3em;
    }
    #TOC > ul {
      padding-left: 0;
    }
    #TOC a:not(:hover) {
      text-decoration: none;
    }
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1.6em;
      vertical-align: middle;
    }
    pre > code.sourceCode { white-space: pre; position: relative; }
    pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
    pre > code.sourceCode > span:empty { height: 1.2em; }
    .sourceCode { overflow: visible; }
    code.sourceCode > span { color: inherit; text-decoration: inherit; }
    div.sourceCode { margin: 1em 0; }
    pre.sourceCode { margin: 0; }
    @media screen {
    div.sourceCode { overflow: auto; }
    }
    @media print {
    pre > code.sourceCode { white-space: pre-wrap; }
    pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
    }
    pre.numberSource code
      { counter-reset: source-line 0; }
    pre.numberSource code > span
      { position: relative; left: -4em; counter-increment: source-line; }
    pre.numberSource code > span > a:first-child::before
      { content: counter(source-line);
        position: relative; left: -1em; text-align: right; vertical-align: baseline;
        border: none; display: inline-block;
        -webkit-touch-callout: none; -webkit-user-select: none;
        -khtml-user-select: none; -moz-user-select: none;
        -ms-user-select: none; user-select: none;
        padding: 0 4px; width: 4em;
        color: #aaaaaa;
      }
    pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
    div.sourceCode
      {   }
    @media screen {
    pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
    }
    code span.al { color: #ff0000; font-weight: bold; } /* Alert */
    code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
    code span.at { color: #7d9029; } /* Attribute */
    code span.bn { color: #40a070; } /* BaseN */
    code span.bu { color: #008000; } /* BuiltIn */
    code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
    code span.ch { color: #4070a0; } /* Char */
    code span.cn { color: #880000; } /* Constant */
    code span.co { color: #60a0b0; font-style: italic; } /* Comment */
    code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
    code span.do { color: #ba2121; font-style: italic; } /* Documentation */
    code span.dt { color: #902000; } /* DataType */
    code span.dv { color: #40a070; } /* DecVal */
    code span.er { color: #ff0000; font-weight: bold; } /* Error */
    code span.ex { } /* Extension */
    code span.fl { color: #40a070; } /* Float */
    code span.fu { color: #06287e; } /* Function */
    code span.im { color: #008000; font-weight: bold; } /* Import */
    code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
    code span.kw { color: #007020; font-weight: bold; } /* Keyword */
    code span.op { color: #666666; } /* Operator */
    code span.ot { color: #007020; } /* Other */
    code span.pp { color: #bc7a00; } /* Preprocessor */
    code span.sc { color: #4070a0; } /* SpecialChar */
    code span.ss { color: #bb6688; } /* SpecialString */
    code span.st { color: #4070a0; } /* String */
    code span.va { color: #19177c; } /* Variable */
    code span.vs { color: #4070a0; } /* VerbatimString */
    code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
    .display.math{display: block; text-align: center; margin: 0.5rem auto;}
  </style>
  <!--[if lt IE 9]>
    <script src="//cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv-printshiv.min.js"></script>
  <![endif]-->
</head>
<body>
<section id="preparation" class="cell markdown">
<h1>preparation</h1>
</section>
<div class="cell code" data-execution_count="2">
<div class="sourceCode" id="cb1"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> pandas <span class="im">as</span> pd</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> matplotlib.pyplot <span class="im">as</span> plt</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> numpy <span class="im">as</span> np</span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> seaborn <span class="im">as</span> sns</span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a><span class="im">import</span> datetime <span class="im">as</span> datetime</span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a><span class="im">from</span> datetime <span class="im">import</span> timedelta</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="3">
<div class="sourceCode" id="cb2"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>data_2023_07 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202307-divvy-tripdata/202307-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>data_2023_08 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202308-divvy-tripdata/202308-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>data_2023_09 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202309-divvy-tripdata/202309-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>data_2023_10 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202310-divvy-tripdata/202310-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>data_2023_11 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202311-divvy-tripdata/202311-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>data_2023_12 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202312-divvy-tripdata/202312-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>data_2024_01 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202401-divvy-tripdata/202401-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>data_2024_02 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202402-divvy-tripdata/202402-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>data_2024_03 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202403-divvy-tripdata/202403-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>data_2024_04 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202404-divvy-tripdata/202404-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>data_2024_05 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202405-divvy-tripdata/202405-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-12"><a href="#cb2-12" aria-hidden="true" tabindex="-1"></a>data_2024_06 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202406-divvy-tripdata/202406-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-13"><a href="#cb2-13" aria-hidden="true" tabindex="-1"></a>data_2024_07 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202407-divvy-tripdata/202407-divvy-tripdata.csv&#39;</span>)</span>
<span id="cb2-14"><a href="#cb2-14" aria-hidden="true" tabindex="-1"></a>data_2024_08 <span class="op">=</span> pd.read_csv(<span class="st">&#39;202408-divvy-tripdata/202408-divvy-tripdata.csv&#39;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="4">
<div class="sourceCode" id="cb3"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>data_2024_08.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
RangeIndex: 755639 entries, 0 to 755638
Data columns (total 13 columns):
 #   Column              Non-Null Count   Dtype  
---  ------              --------------   -----  
 0   ride_id             755639 non-null  object 
 1   rideable_type       755639 non-null  object 
 2   started_at          755639 non-null  object 
 3   ended_at            755639 non-null  object 
 4   start_station_name  615048 non-null  object 
 5   start_station_id    615048 non-null  object 
 6   end_station_name    613414 non-null  object 
 7   end_station_id      613414 non-null  object 
 8   start_lat           755639 non-null  float64
 9   start_lng           755639 non-null  float64
 10  end_lat             754612 non-null  float64
 11  end_lng             754612 non-null  float64
 12  member_casual       755639 non-null  object 
dtypes: float64(4), object(9)
memory usage: 74.9+ MB
</code></pre>
</div>
</div>
<div class="cell markdown">
<p>merging all datasets into a single file</p>
</div>
<div class="cell code" data-execution_count="5">
<div class="sourceCode" id="cb5"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>pd.concat([data_2023_07,data_2023_08, data_2023_09, data_2023_10, data_2023_11, data_2023_12, data_2024_01, data_2024_02, data_2024_03, data_2024_04,data_2024_05, data_2024_06, data_2024_07, data_2024_08])</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="6">
<div class="sourceCode" id="cb6"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a>df.shape</span></code></pre></div>
<div class="output execute_result" data-execution_count="6">
<pre><code>(7238982, 13)</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="7">
<div class="sourceCode" id="cb8"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 7238982 entries, 0 to 755638
Data columns (total 13 columns):
 #   Column              Dtype  
---  ------              -----  
 0   ride_id             object 
 1   rideable_type       object 
 2   started_at          object 
 3   ended_at            object 
 4   start_station_name  object 
 5   start_station_id    object 
 6   end_station_name    object 
 7   end_station_id      object 
 8   start_lat           float64
 9   start_lng           float64
 10  end_lat             float64
 11  end_lng             float64
 12  member_casual       object 
dtypes: float64(4), object(9)
memory usage: 773.2+ MB
</code></pre>
</div>
</div>
<section id="processing-and-cleaning" class="cell markdown">
<h1>processing and cleaning</h1>
</section>
<div class="cell code" data-execution_count="8">
<div class="sourceCode" id="cb10"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a>df.isna().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="8">
<pre><code>ride_id                     0
rideable_type               0
started_at                  0
ended_at                    0
start_station_name    1210559
start_station_id      1210559
end_station_name      1262005
end_station_id        1262005
start_lat                   0
start_lng                   0
end_lat                 10037
end_lng                 10037
member_casual               0
dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="9">
<div class="sourceCode" id="cb12"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a>(df.isna().<span class="bu">sum</span>()<span class="op">/</span> df.shape[<span class="dv">0</span>] ) <span class="op">*</span> <span class="dv">100</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="9">
<pre><code>ride_id                0.000000
rideable_type          0.000000
started_at             0.000000
ended_at               0.000000
start_station_name    16.722780
start_station_id      16.722780
end_station_name      17.433460
end_station_id        17.433460
start_lat              0.000000
start_lng              0.000000
end_lat                0.138652
end_lng                0.138652
member_casual          0.000000
dtype: float64</code></pre>
</div>
</div>
<div class="cell markdown">
<p>dropping the start_station_name, start_station_id, end_station_name,
end_station_id columns because they dont really serve any purpose</p>
</div>
<div class="cell code" data-execution_count="10">
<div class="sourceCode" id="cb14"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a>df<span class="op">=</span>df.drop(columns<span class="op">=</span>[<span class="st">&#39;start_station_name&#39;</span>, <span class="st">&#39;start_station_id&#39;</span>, <span class="st">&#39;end_station_name&#39;</span>, <span class="st">&#39;end_station_id&#39;</span>])</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="11">
<div class="sourceCode" id="cb15"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a>df.dropna(axis<span class="op">=</span><span class="dv">0</span>, inplace<span class="op">=</span><span class="va">True</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="12">
<div class="sourceCode" id="cb16"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>df.tail()</span></code></pre></div>
<div class="output execute_result" data-execution_count="12">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>755634</th>
      <td>71F72E76C0BD298A</td>
      <td>electric_bike</td>
      <td>2024-08-09 14:34:08.222</td>
      <td>2024-08-09 14:51:31.936</td>
      <td>41.878125</td>
      <td>-87.639968</td>
      <td>41.910000</td>
      <td>-87.650000</td>
      <td>member</td>
    </tr>
    <tr>
      <th>755635</th>
      <td>CC9B1538EE80EEF5</td>
      <td>electric_bike</td>
      <td>2024-08-09 20:23:23.237</td>
      <td>2024-08-09 20:37:30.107</td>
      <td>41.904533</td>
      <td>-87.640626</td>
      <td>41.940000</td>
      <td>-87.650000</td>
      <td>member</td>
    </tr>
    <tr>
      <th>755636</th>
      <td>0F2CB3D2FDC5C124</td>
      <td>electric_bike</td>
      <td>2024-08-18 00:36:26.939</td>
      <td>2024-08-18 00:38:45.112</td>
      <td>41.891847</td>
      <td>-87.620580</td>
      <td>41.890000</td>
      <td>-87.620000</td>
      <td>member</td>
    </tr>
    <tr>
      <th>755637</th>
      <td>FAAD5D34100D74DF</td>
      <td>electric_bike</td>
      <td>2024-08-30 11:22:50.179</td>
      <td>2024-08-30 11:47:10.750</td>
      <td>41.961507</td>
      <td>-87.671387</td>
      <td>42.020000</td>
      <td>-87.690000</td>
      <td>member</td>
    </tr>
    <tr>
      <th>755638</th>
      <td>5CB8C2D9C5C72EBA</td>
      <td>electric_bike</td>
      <td>2024-08-30 17:01:57.243</td>
      <td>2024-08-30 17:20:12.001</td>
      <td>41.900363</td>
      <td>-87.696704</td>
      <td>41.895634</td>
      <td>-87.672069</td>
      <td>member</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="13">
<div class="sourceCode" id="cb17"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a>df.duplicated().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="13">
<pre><code>0</code></pre>
</div>
</div>
<div class="cell markdown">
<p>we have a little problem</p>
</div>
<div class="cell code" data-execution_count="14">
<div class="sourceCode" id="cb19"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.iloc[<span class="dv">5016865</span>][<span class="st">&#39;started_at&#39;</span>])</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.iloc[<span class="dv">5016865</span>][<span class="st">&#39;ended_at&#39;</span>])</span></code></pre></div>
<div class="output stream stdout">
<pre><code>2024-06-11 17:20:06.289
2024-06-11 17:21:39.464
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="15">
<div class="sourceCode" id="cb21"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;started_at&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;started_at&#39;</span>].<span class="bu">str</span>.split(<span class="st">&#39;.&#39;</span>).<span class="bu">str</span>[<span class="dv">0</span>]</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;ended_at&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;ended_at&#39;</span>].<span class="bu">str</span>.split(<span class="st">&#39;.&#39;</span>).<span class="bu">str</span>[<span class="dv">0</span>]</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="16">
<div class="sourceCode" id="cb22"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.iloc[<span class="dv">5016865</span>][<span class="st">&#39;started_at&#39;</span>])</span>
<span id="cb22-2"><a href="#cb22-2" aria-hidden="true" tabindex="-1"></a><span class="bu">print</span>(df.iloc[<span class="dv">5016865</span>][<span class="st">&#39;ended_at&#39;</span>])</span></code></pre></div>
<div class="output stream stdout">
<pre><code>2024-06-11 17:20:06
2024-06-11 17:21:39
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="17">
<div class="sourceCode" id="cb24"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;started_at&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;started_at&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S&#39;</span>)</span>
<span id="cb24-2"><a href="#cb24-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;ended_at&#39;</span>] <span class="op">=</span> pd.to_datetime(df[<span class="st">&#39;ended_at&#39;</span>], <span class="bu">format</span><span class="op">=</span><span class="st">&#39;%Y-%m-</span><span class="sc">%d</span><span class="st"> %H:%M:%S&#39;</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="18">
<div class="sourceCode" id="cb25"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="18">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9340B064F0AEE130</td>
      <td>electric_bike</td>
      <td>2023-07-23 20:06:14</td>
      <td>2023-07-23 20:22:44</td>
      <td>41.692406</td>
      <td>-87.700905</td>
      <td>41.694835</td>
      <td>-87.653041</td>
      <td>member</td>
    </tr>
    <tr>
      <th>1</th>
      <td>D1460EE3CE0D8AF8</td>
      <td>classic_bike</td>
      <td>2023-07-23 17:05:07</td>
      <td>2023-07-23 17:18:37</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.891578</td>
      <td>-87.648384</td>
      <td>member</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF41BE31B895A25E</td>
      <td>classic_bike</td>
      <td>2023-07-23 10:14:53</td>
      <td>2023-07-23 10:24:29</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.909396</td>
      <td>-87.677692</td>
      <td>member</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9624A293749EF703</td>
      <td>electric_bike</td>
      <td>2023-07-21 08:27:44</td>
      <td>2023-07-21 08:32:40</td>
      <td>41.884112</td>
      <td>-87.656943</td>
      <td>41.882752</td>
      <td>-87.641190</td>
      <td>member</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2F68A6A4CDB4C99A</td>
      <td>classic_bike</td>
      <td>2023-07-08 15:46:42</td>
      <td>2023-07-08 15:58:08</td>
      <td>41.967088</td>
      <td>-87.667291</td>
      <td>41.963982</td>
      <td>-87.638181</td>
      <td>member</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="19">
<div class="sourceCode" id="cb26"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a>df.isnull().<span class="bu">sum</span>()</span></code></pre></div>
<div class="output execute_result" data-execution_count="19">
<pre><code>ride_id          0
rideable_type    0
started_at       0
ended_at         0
start_lat        0
start_lng        0
end_lat          0
end_lng          0
member_casual    0
dtype: int64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="20">
<div class="sourceCode" id="cb28"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a>df.info()</span></code></pre></div>
<div class="output stream stdout">
<pre><code>&lt;class &#39;pandas.core.frame.DataFrame&#39;&gt;
Index: 7228945 entries, 0 to 755638
Data columns (total 9 columns):
 #   Column         Dtype         
---  ------         -----         
 0   ride_id        object        
 1   rideable_type  object        
 2   started_at     datetime64[ns]
 3   ended_at       datetime64[ns]
 4   start_lat      float64       
 5   start_lng      float64       
 6   end_lat        float64       
 7   end_lng        float64       
 8   member_casual  object        
dtypes: datetime64[ns](2), float64(4), object(3)
memory usage: 551.5+ MB
</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="21">
<div class="sourceCode" id="cb30"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;hour&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;started_at&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.hour)</span>
<span id="cb30-2"><a href="#cb30-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;day&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;started_at&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.day_name())</span>
<span id="cb30-3"><a href="#cb30-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;month&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;started_at&#39;</span>].<span class="bu">apply</span>(<span class="kw">lambda</span> x: x.month)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="22">
<div class="sourceCode" id="cb31"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb31-1"><a href="#cb31-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="22">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
      <th>hour</th>
      <th>day</th>
      <th>month</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9340B064F0AEE130</td>
      <td>electric_bike</td>
      <td>2023-07-23 20:06:14</td>
      <td>2023-07-23 20:22:44</td>
      <td>41.692406</td>
      <td>-87.700905</td>
      <td>41.694835</td>
      <td>-87.653041</td>
      <td>member</td>
      <td>20</td>
      <td>Sunday</td>
      <td>7</td>
    </tr>
    <tr>
      <th>1</th>
      <td>D1460EE3CE0D8AF8</td>
      <td>classic_bike</td>
      <td>2023-07-23 17:05:07</td>
      <td>2023-07-23 17:18:37</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.891578</td>
      <td>-87.648384</td>
      <td>member</td>
      <td>17</td>
      <td>Sunday</td>
      <td>7</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF41BE31B895A25E</td>
      <td>classic_bike</td>
      <td>2023-07-23 10:14:53</td>
      <td>2023-07-23 10:24:29</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.909396</td>
      <td>-87.677692</td>
      <td>member</td>
      <td>10</td>
      <td>Sunday</td>
      <td>7</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9624A293749EF703</td>
      <td>electric_bike</td>
      <td>2023-07-21 08:27:44</td>
      <td>2023-07-21 08:32:40</td>
      <td>41.884112</td>
      <td>-87.656943</td>
      <td>41.882752</td>
      <td>-87.641190</td>
      <td>member</td>
      <td>8</td>
      <td>Friday</td>
      <td>7</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2F68A6A4CDB4C99A</td>
      <td>classic_bike</td>
      <td>2023-07-08 15:46:42</td>
      <td>2023-07-08 15:58:08</td>
      <td>41.967088</td>
      <td>-87.667291</td>
      <td>41.963982</td>
      <td>-87.638181</td>
      <td>member</td>
      <td>15</td>
      <td>Saturday</td>
      <td>7</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="23">
<div class="sourceCode" id="cb32"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb32-1"><a href="#cb32-1" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;ride_length&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;ended_at&#39;</span>]<span class="op">-</span>df[<span class="st">&#39;started_at&#39;</span>]</span>
<span id="cb32-2"><a href="#cb32-2" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;ride_length&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;ride_length&#39;</span>]<span class="op">/</span>timedelta(minutes<span class="op">=</span><span class="dv">1</span>)</span>
<span id="cb32-3"><a href="#cb32-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;ride_length&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;ride_length&#39;</span>].<span class="bu">round</span>(<span class="dv">2</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="24">
<div class="sourceCode" id="cb33"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb33-1"><a href="#cb33-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="24">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
      <th>hour</th>
      <th>day</th>
      <th>month</th>
      <th>ride_length</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9340B064F0AEE130</td>
      <td>electric_bike</td>
      <td>2023-07-23 20:06:14</td>
      <td>2023-07-23 20:22:44</td>
      <td>41.692406</td>
      <td>-87.700905</td>
      <td>41.694835</td>
      <td>-87.653041</td>
      <td>member</td>
      <td>20</td>
      <td>Sunday</td>
      <td>7</td>
      <td>16.50</td>
    </tr>
    <tr>
      <th>1</th>
      <td>D1460EE3CE0D8AF8</td>
      <td>classic_bike</td>
      <td>2023-07-23 17:05:07</td>
      <td>2023-07-23 17:18:37</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.891578</td>
      <td>-87.648384</td>
      <td>member</td>
      <td>17</td>
      <td>Sunday</td>
      <td>7</td>
      <td>13.50</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF41BE31B895A25E</td>
      <td>classic_bike</td>
      <td>2023-07-23 10:14:53</td>
      <td>2023-07-23 10:24:29</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.909396</td>
      <td>-87.677692</td>
      <td>member</td>
      <td>10</td>
      <td>Sunday</td>
      <td>7</td>
      <td>9.60</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9624A293749EF703</td>
      <td>electric_bike</td>
      <td>2023-07-21 08:27:44</td>
      <td>2023-07-21 08:32:40</td>
      <td>41.884112</td>
      <td>-87.656943</td>
      <td>41.882752</td>
      <td>-87.641190</td>
      <td>member</td>
      <td>8</td>
      <td>Friday</td>
      <td>7</td>
      <td>4.93</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2F68A6A4CDB4C99A</td>
      <td>classic_bike</td>
      <td>2023-07-08 15:46:42</td>
      <td>2023-07-08 15:58:08</td>
      <td>41.967088</td>
      <td>-87.667291</td>
      <td>41.963982</td>
      <td>-87.638181</td>
      <td>member</td>
      <td>15</td>
      <td>Saturday</td>
      <td>7</td>
      <td>11.43</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell markdown">
<p>calculating the distance of each journey, using the haversine
formula</p>
</div>
<div class="cell code" data-execution_count="25">
<div class="sourceCode" id="cb34"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb34-1"><a href="#cb34-1" aria-hidden="true" tabindex="-1"></a><span class="kw">def</span> haversine(lat1, lon1, lat2, lon2):</span>
<span id="cb34-2"><a href="#cb34-2" aria-hidden="true" tabindex="-1"></a>    R <span class="op">=</span> <span class="dv">6371</span>  <span class="co"># earth radius in kilo</span></span>
<span id="cb34-3"><a href="#cb34-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-4"><a href="#cb34-4" aria-hidden="true" tabindex="-1"></a>    <span class="co"># converting latitude and longitude from degrees to radians</span></span>
<span id="cb34-5"><a href="#cb34-5" aria-hidden="true" tabindex="-1"></a>    lat1 <span class="op">=</span> np.radians(lat1)</span>
<span id="cb34-6"><a href="#cb34-6" aria-hidden="true" tabindex="-1"></a>    lon1 <span class="op">=</span> np.radians(lon1)</span>
<span id="cb34-7"><a href="#cb34-7" aria-hidden="true" tabindex="-1"></a>    lat2 <span class="op">=</span> np.radians(lat2)</span>
<span id="cb34-8"><a href="#cb34-8" aria-hidden="true" tabindex="-1"></a>    lon2 <span class="op">=</span> np.radians(lon2)</span>
<span id="cb34-9"><a href="#cb34-9" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-10"><a href="#cb34-10" aria-hidden="true" tabindex="-1"></a>    dlat <span class="op">=</span> lat2 <span class="op">-</span> lat1</span>
<span id="cb34-11"><a href="#cb34-11" aria-hidden="true" tabindex="-1"></a>    dlon <span class="op">=</span> lon2 <span class="op">-</span> lon1</span>
<span id="cb34-12"><a href="#cb34-12" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-13"><a href="#cb34-13" aria-hidden="true" tabindex="-1"></a>    <span class="co"># Haversine formula</span></span>
<span id="cb34-14"><a href="#cb34-14" aria-hidden="true" tabindex="-1"></a>    a <span class="op">=</span> np.sin(dlat<span class="op">/</span><span class="dv">2</span>)<span class="op">**</span><span class="dv">2</span> <span class="op">+</span> np.cos(lat1) <span class="op">*</span> np.cos(lat2) <span class="op">*</span> np.sin(dlon<span class="op">/</span><span class="dv">2</span>)<span class="op">**</span><span class="dv">2</span></span>
<span id="cb34-15"><a href="#cb34-15" aria-hidden="true" tabindex="-1"></a>    c <span class="op">=</span> <span class="dv">2</span> <span class="op">*</span> np.arcsin(np.sqrt(a))</span>
<span id="cb34-16"><a href="#cb34-16" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-17"><a href="#cb34-17" aria-hidden="true" tabindex="-1"></a>    <span class="co"># distance in kilo</span></span>
<span id="cb34-18"><a href="#cb34-18" aria-hidden="true" tabindex="-1"></a>    distance <span class="op">=</span> R <span class="op">*</span> c</span>
<span id="cb34-19"><a href="#cb34-19" aria-hidden="true" tabindex="-1"></a>    <span class="cf">return</span> distance</span>
<span id="cb34-20"><a href="#cb34-20" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb34-21"><a href="#cb34-21" aria-hidden="true" tabindex="-1"></a><span class="co"># Apply the function to the DataFrame</span></span>
<span id="cb34-22"><a href="#cb34-22" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;distance_km&#39;</span>] <span class="op">=</span> haversine(</span>
<span id="cb34-23"><a href="#cb34-23" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">&#39;start_lat&#39;</span>], df[<span class="st">&#39;start_lng&#39;</span>],</span>
<span id="cb34-24"><a href="#cb34-24" aria-hidden="true" tabindex="-1"></a>    df[<span class="st">&#39;end_lat&#39;</span>], df[<span class="st">&#39;end_lng&#39;</span>]</span>
<span id="cb34-25"><a href="#cb34-25" aria-hidden="true" tabindex="-1"></a>)</span>
<span id="cb34-26"><a href="#cb34-26" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;distance_km&#39;</span>] <span class="op">=</span> df[<span class="st">&#39;distance_km&#39;</span>].<span class="bu">round</span>(decimals <span class="op">=</span> <span class="dv">2</span>)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="26">
<div class="sourceCode" id="cb35"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb35-1"><a href="#cb35-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="26">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
      <th>hour</th>
      <th>day</th>
      <th>month</th>
      <th>ride_length</th>
      <th>distance_km</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9340B064F0AEE130</td>
      <td>electric_bike</td>
      <td>2023-07-23 20:06:14</td>
      <td>2023-07-23 20:22:44</td>
      <td>41.692406</td>
      <td>-87.700905</td>
      <td>41.694835</td>
      <td>-87.653041</td>
      <td>member</td>
      <td>20</td>
      <td>Sunday</td>
      <td>7</td>
      <td>16.50</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>1</th>
      <td>D1460EE3CE0D8AF8</td>
      <td>classic_bike</td>
      <td>2023-07-23 17:05:07</td>
      <td>2023-07-23 17:18:37</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.891578</td>
      <td>-87.648384</td>
      <td>member</td>
      <td>17</td>
      <td>Sunday</td>
      <td>7</td>
      <td>13.50</td>
      <td>3.25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF41BE31B895A25E</td>
      <td>classic_bike</td>
      <td>2023-07-23 10:14:53</td>
      <td>2023-07-23 10:24:29</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.909396</td>
      <td>-87.677692</td>
      <td>member</td>
      <td>10</td>
      <td>Sunday</td>
      <td>7</td>
      <td>9.60</td>
      <td>1.43</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9624A293749EF703</td>
      <td>electric_bike</td>
      <td>2023-07-21 08:27:44</td>
      <td>2023-07-21 08:32:40</td>
      <td>41.884112</td>
      <td>-87.656943</td>
      <td>41.882752</td>
      <td>-87.641190</td>
      <td>member</td>
      <td>8</td>
      <td>Friday</td>
      <td>7</td>
      <td>4.93</td>
      <td>1.31</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2F68A6A4CDB4C99A</td>
      <td>classic_bike</td>
      <td>2023-07-08 15:46:42</td>
      <td>2023-07-08 15:58:08</td>
      <td>41.967088</td>
      <td>-87.667291</td>
      <td>41.963982</td>
      <td>-87.638181</td>
      <td>member</td>
      <td>15</td>
      <td>Saturday</td>
      <td>7</td>
      <td>11.43</td>
      <td>2.43</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<div class="cell code" data-execution_count="27">
<div class="sourceCode" id="cb36"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb36-1"><a href="#cb36-1" aria-hidden="true" tabindex="-1"></a>months<span class="op">=</span>{<span class="dv">1</span>:<span class="st">&#39;january&#39;</span>, <span class="dv">2</span>:<span class="st">&#39;february&#39;</span>, <span class="dv">3</span>:<span class="st">&#39;march&#39;</span>, <span class="dv">4</span>:<span class="st">&#39;april&#39;</span>, <span class="dv">5</span>:<span class="st">&#39;may&#39;</span>, <span class="dv">6</span>:<span class="st">&#39;june&#39;</span>, <span class="dv">7</span>:<span class="st">&#39;july&#39;</span>, <span class="dv">8</span>:<span class="st">&#39;august&#39;</span>, <span class="dv">9</span>:<span class="st">&#39;september&#39;</span>, <span class="dv">10</span>:<span class="st">&#39;october&#39;</span>, <span class="dv">11</span>:<span class="st">&#39;november&#39;</span>, <span class="dv">12</span>:<span class="st">&#39;december&#39;</span>}</span>
<span id="cb36-2"><a href="#cb36-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb36-3"><a href="#cb36-3" aria-hidden="true" tabindex="-1"></a>df[<span class="st">&#39;month&#39;</span>]<span class="op">=</span>df[<span class="st">&#39;month&#39;</span>].<span class="bu">map</span>(months)</span></code></pre></div>
</div>
<div class="cell code" data-execution_count="28">
<div class="sourceCode" id="cb37"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a>df.head()</span></code></pre></div>
<div class="output execute_result" data-execution_count="28">
<div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>ride_id</th>
      <th>rideable_type</th>
      <th>started_at</th>
      <th>ended_at</th>
      <th>start_lat</th>
      <th>start_lng</th>
      <th>end_lat</th>
      <th>end_lng</th>
      <th>member_casual</th>
      <th>hour</th>
      <th>day</th>
      <th>month</th>
      <th>ride_length</th>
      <th>distance_km</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>9340B064F0AEE130</td>
      <td>electric_bike</td>
      <td>2023-07-23 20:06:14</td>
      <td>2023-07-23 20:22:44</td>
      <td>41.692406</td>
      <td>-87.700905</td>
      <td>41.694835</td>
      <td>-87.653041</td>
      <td>member</td>
      <td>20</td>
      <td>Sunday</td>
      <td>july</td>
      <td>16.50</td>
      <td>3.98</td>
    </tr>
    <tr>
      <th>1</th>
      <td>D1460EE3CE0D8AF8</td>
      <td>classic_bike</td>
      <td>2023-07-23 17:05:07</td>
      <td>2023-07-23 17:18:37</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.891578</td>
      <td>-87.648384</td>
      <td>member</td>
      <td>17</td>
      <td>Sunday</td>
      <td>july</td>
      <td>13.50</td>
      <td>3.25</td>
    </tr>
    <tr>
      <th>2</th>
      <td>DF41BE31B895A25E</td>
      <td>classic_bike</td>
      <td>2023-07-23 10:14:53</td>
      <td>2023-07-23 10:24:29</td>
      <td>41.898418</td>
      <td>-87.686596</td>
      <td>41.909396</td>
      <td>-87.677692</td>
      <td>member</td>
      <td>10</td>
      <td>Sunday</td>
      <td>july</td>
      <td>9.60</td>
      <td>1.43</td>
    </tr>
    <tr>
      <th>3</th>
      <td>9624A293749EF703</td>
      <td>electric_bike</td>
      <td>2023-07-21 08:27:44</td>
      <td>2023-07-21 08:32:40</td>
      <td>41.884112</td>
      <td>-87.656943</td>
      <td>41.882752</td>
      <td>-87.641190</td>
      <td>member</td>
      <td>8</td>
      <td>Friday</td>
      <td>july</td>
      <td>4.93</td>
      <td>1.31</td>
    </tr>
    <tr>
      <th>4</th>
      <td>2F68A6A4CDB4C99A</td>
      <td>classic_bike</td>
      <td>2023-07-08 15:46:42</td>
      <td>2023-07-08 15:58:08</td>
      <td>41.967088</td>
      <td>-87.667291</td>
      <td>41.963982</td>
      <td>-87.638181</td>
      <td>member</td>
      <td>15</td>
      <td>Saturday</td>
      <td>july</td>
      <td>11.43</td>
      <td>2.43</td>
    </tr>
  </tbody>
</table>
</div>
</div>
</div>
<section id="analysis-and-visualisations" class="cell markdown">
<h1>analysis and visualisations</h1>
</section>
<div class="cell code" data-execution_count="29">
<div class="sourceCode" id="cb38"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb38-1"><a href="#cb38-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">&#39;member_casual&#39;</span>)[<span class="st">&#39;ride_length&#39;</span>].mean()</span></code></pre></div>
<div class="output execute_result" data-execution_count="29">
<pre><code>member_casual
casual    21.649099
member    12.480362
Name: ride_length, dtype: float64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="30">
<div class="sourceCode" id="cb40"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb40-1"><a href="#cb40-1" aria-hidden="true" tabindex="-1"></a>df.groupby(<span class="st">&#39;member_casual&#39;</span>)[<span class="st">&#39;distance_km&#39;</span>].mean()</span></code></pre></div>
<div class="output execute_result" data-execution_count="30">
<pre><code>member_casual
casual    2.148658
member    2.166059
Name: distance_km, dtype: float64</code></pre>
</div>
</div>
<div class="cell code" data-execution_count="37">
<div class="sourceCode" id="cb42"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb42-1"><a href="#cb42-1" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">&#39;member_casual&#39;</span>, y<span class="op">=</span><span class="st">&#39;distance_km&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb42-2"><a href="#cb42-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average distance travelled&#39;</span>)</span>
<span id="cb42-3"><a href="#cb42-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Avg distance travlled&#39;</span>)</span>
<span id="cb42-4"><a href="#cb42-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Member-Casual&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="37">
<pre><code>Text(0.5, 0, &#39;Member-Casual&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d8aff58936d1447aa0c46554bd862f50/712d457fbd86a058ef6714d3649233aeb2512ee8.png" /></p>
</div>
</div>
<div class="cell code" data-execution_count="38">
<div class="sourceCode" id="cb44"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb44-1"><a href="#cb44-1" aria-hidden="true" tabindex="-1"></a>sns.barplot(x<span class="op">=</span><span class="st">&#39;member_casual&#39;</span>, y<span class="op">=</span><span class="st">&#39;ride_length&#39;</span>, data<span class="op">=</span>df)</span>
<span id="cb44-2"><a href="#cb44-2" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Average ride length&#39;</span>)</span>
<span id="cb44-3"><a href="#cb44-3" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Avg ride length&#39;</span>)</span>
<span id="cb44-4"><a href="#cb44-4" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Member-Casual&#39;</span>)</span></code></pre></div>
<div class="output execute_result" data-execution_count="38">
<pre><code>Text(0.5, 0, &#39;Member-Casual&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d8aff58936d1447aa0c46554bd862f50/9c2690301787448e3596955cb6d783026cdfd1b3.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>despite traveling almost similar distances on average, casual riders
tend to take longer to cover that distance, suggesting that they may
ride at a more leisurely pace or take breaks during their rides. This
could be because casual riders use the service for recreation or
exploring, rather than efficient commuting.</p>
<p>members, on the other hand, seem to have a more direct route and are
likely to ride with a specific purpose, such as getting to work or an
appointment on time.</p>
</div>
<div class="cell code" data-execution_count="42">
<div class="sourceCode" id="cb46"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb46-1"><a href="#cb46-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb46-2"><a href="#cb46-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-3"><a href="#cb46-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb46-4"><a href="#cb46-4" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;hour&#39;</span>, hue<span class="op">=</span><span class="st">&#39;member_casual&#39;</span>, data<span class="op">=</span>df, palette<span class="op">=</span><span class="st">&#39;Set1&#39;</span>)</span>
<span id="cb46-5"><a href="#cb46-5" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Active Hours&#39;</span>)</span>
<span id="cb46-6"><a href="#cb46-6" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Total riders&#39;</span>)</span>
<span id="cb46-7"><a href="#cb46-7" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Hour&#39;</span>)</span>
<span id="cb46-8"><a href="#cb46-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d8aff58936d1447aa0c46554bd862f50/604a35adbd530004830d1e43537e82d25dc7384e.png" /></p>
</div>
</div>
<div class="cell markdown">
<ol>
<li><p>Members mainly use the bike service during peak office hours,
indicating that the bike service is an integral part of their daily
routine, likely for commuting purposes from office to home or vice
versa</p></li>
<li><p>Casual users display a more distributed pattern of usage, with
peaks in the afternoon and evening, possibly indicating recreational or
occasional use rather than a daily commute. Also, the number of casual
users increase after 12AM which kind of confirms that casual users use
the bike service mostly for recreational purpose.</p></li>
</ol>
</div>
<div class="cell code" data-execution_count="40">
<div class="sourceCode" id="cb47"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb47-1"><a href="#cb47-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb47-2"><a href="#cb47-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb47-3"><a href="#cb47-3" aria-hidden="true" tabindex="-1"></a>order <span class="op">=</span> [<span class="st">&quot;Monday&quot;</span>, <span class="st">&quot;Tuesday&quot;</span>, <span class="st">&quot;Wednesday&quot;</span>, <span class="st">&quot;Thursday&quot;</span>, <span class="st">&quot;Friday&quot;</span>, <span class="st">&quot;Saturday&quot;</span>, <span class="st">&quot;Sunday&quot;</span>]</span>
<span id="cb47-4"><a href="#cb47-4" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;day&#39;</span>, hue<span class="op">=</span><span class="st">&#39;member_casual&#39;</span>, data<span class="op">=</span>df, palette<span class="op">=</span><span class="st">&#39;dark&#39;</span>, order<span class="op">=</span>order)</span>
<span id="cb47-5"><a href="#cb47-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Total Rides&#39;</span>)</span>
<span id="cb47-6"><a href="#cb47-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Day of the week&#39;</span>)</span>
<span id="cb47-7"><a href="#cb47-7" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Rides per week&#39;</span>)</span>
<span id="cb47-8"><a href="#cb47-8" aria-hidden="true" tabindex="-1"></a>plt.tight_layout()</span></code></pre></div>
<div class="output display_data">
<p><img
src="vertopal_d8aff58936d1447aa0c46554bd862f50/12a1956009902c94128ca2cdfe2d594eed16480b.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Members are likely using the service for daily commuting, primarily
on weekdays.</p>
<p>Casual riders are more active during weekends, likely using the
service for recreational purposes rather than regular commuting.</p>
</div>
<div class="cell code" data-execution_count="41">
<div class="sourceCode" id="cb48"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb48-1"><a href="#cb48-1" aria-hidden="true" tabindex="-1"></a>plt.figure(figsize<span class="op">=</span>(<span class="dv">12</span>,<span class="dv">6</span>))</span>
<span id="cb48-2"><a href="#cb48-2" aria-hidden="true" tabindex="-1"></a>order <span class="op">=</span> [<span class="st">&#39;january&#39;</span>, <span class="st">&#39;february&#39;</span>, <span class="st">&#39;march&#39;</span>, <span class="st">&#39;april&#39;</span>, <span class="st">&#39;may&#39;</span>, <span class="st">&#39;june&#39;</span>, <span class="st">&#39;july&#39;</span>, <span class="st">&#39;august&#39;</span>, <span class="st">&#39;september&#39;</span>, <span class="st">&#39;october&#39;</span>, <span class="st">&#39;november&#39;</span>,<span class="st">&#39;december&#39;</span>]</span>
<span id="cb48-3"><a href="#cb48-3" aria-hidden="true" tabindex="-1"></a>sns.countplot(x<span class="op">=</span><span class="st">&#39;month&#39;</span>, hue<span class="op">=</span><span class="st">&#39;member_casual&#39;</span>, data<span class="op">=</span>df, palette<span class="op">=</span><span class="st">&#39;dark&#39;</span>, order<span class="op">=</span>order)</span>
<span id="cb48-4"><a href="#cb48-4" aria-hidden="true" tabindex="-1"></a>plt.title(<span class="st">&#39;Monthly Activity&#39;</span>)</span>
<span id="cb48-5"><a href="#cb48-5" aria-hidden="true" tabindex="-1"></a>plt.ylabel(<span class="st">&#39;Total riders&#39;</span>)</span>
<span id="cb48-6"><a href="#cb48-6" aria-hidden="true" tabindex="-1"></a>plt.xlabel(<span class="st">&#39;Month&#39;</span>)</span>
<span id="cb48-7"><a href="#cb48-7" aria-hidden="true" tabindex="-1"></a><span class="co"># plt.tight_layout()</span></span></code></pre></div>
<div class="output execute_result" data-execution_count="41">
<pre><code>Text(0.5, 0, &#39;Month&#39;)</code></pre>
</div>
<div class="output display_data">
<p><img
src="vertopal_d8aff58936d1447aa0c46554bd862f50/afede133afc6e8587dc4b667f8ca2aeced22f029.png" /></p>
</div>
</div>
<div class="cell markdown">
<p>Both the casual and members rider peaks during july and august,
during summer to be more precise. we could develop some strategy for
these two months.</p>
</div>
<section id="conclusions-and-insights" class="cell markdown">
<h1>conclusions and insights</h1>
<ol>
<li>member riders mainly use the bike service for daily commute to
work.<br />
</li>
<li>casual riders use the service for more of a recreational
purpose.</li>
<li>summer months (especially july and august) are more popular and
business can focus on this period to maximise its profit.</li>
<li>special 'Summer Membership' can be introduced specifically for
casual riders who're not really interested in annual membership.</li>
<li>also 'Special Weekend' offer or discounts or any schemes can be
introduced for casual riders who use the bike service more on
weekends.</li>
</ol>
</section>
<div class="cell code" data-execution_count="36">
<div class="sourceCode" id="cb50"><pre
class="sourceCode python"><code class="sourceCode python"><span id="cb50-1"><a href="#cb50-1" aria-hidden="true" tabindex="-1"></a><span class="co"># df.to_csv(&#39;final_bike_dataset.csv&#39;, index=False)</span></span></code></pre></div>
</div>
<div class="cell code">
<div class="sourceCode" id="cb51"><pre
class="sourceCode python"><code class="sourceCode python"></code></pre></div>
</div>
</body>
</html>
